const o=`<sw-page class="shopbite-main-index"> <template #smart-bar-header> <h2>{{ $tc('shopbite-main.general.mainMenuItemGeneral') }}</h2> </template> <template #content> <sw-card title="ShopBite" :hero="true"> {{ $tc('shopbite-main.general.descriptionText') }} </sw-card> </template> </sw-page>`;Shopware.Component.register("shopbite-main-index",{template:o});const l={"shopbite-main":{general:{mainMenuItemGeneral:"ShopBite",descriptionText:"Willkommen beim ShopBite Modul."}}},r={"shopbite-main":{general:{mainMenuItemGeneral:"ShopBite",descriptionText:"Welcome to ShopBite module."}}};Shopware.Module.register("shopbite-main",{type:"plugin",name:"ShopBite",title:"ShopBite",color:"#ff5b00",icon:"default-shopping-paper-bag-product",snippets:{"de-DE":l,"en-GB":r},routes:{index:{component:"shopbite-main-index",path:"index"}},navigation:[{label:"ShopBite",color:"#ff5b00",path:"shopbite.main.index",parent:"sw-marketing",position:100}]});const h=`<sw-page class="shopbite-business-hour-list"> <template #smart-bar-actions> <sw-button variant="primary" :routerLink="{ name: 'shopbite.business.hour.create' }"> {{ $tc('shopbite-business-hour.list.buttonAdd') }} </sw-button> </template> <template #content> <sw-entity-listing v-if="businessHours" :items="businessHours" :repository="businessHourRepository" :showSelection="false" :columns="columns" :isLoading="isLoading" > <template #column-dayOfWeek="{ item }"> {{ getDayName(item.dayOfWeek) }} </template> <template #column-openingTime="{ item }"> {{ item.openingTime }} </template> <template #column-closingTime="{ item }"> {{ item.closingTime }} </template> </sw-entity-listing> </template> </sw-page>`,{Component:u,Mixin:d}=Shopware,{Criteria:a}=Shopware.Data;u.register("shopbite-business-hour-list",{template:h,inject:["repositoryFactory"],mixins:[d.getByName("listing")],data(){return{businessHours:null,isLoading:!0,sortBy:"dayOfWeek",sortDirection:"ASC"}},metaInfo(){return{title:this.$createTitle()}},computed:{businessHourRepository(){return this.repositoryFactory.create("shopbite_business_hour")},columns(){return[{property:"dayOfWeek",label:"shopbite-business-hour.list.columnDayOfWeek",routerLink:"shopbite.business.hour.detail",inlineEdit:"number",allowResize:!0,primary:!0},{property:"openingTime",label:"shopbite-business-hour.list.columnOpeningTime",allowResize:!0},{property:"closingTime",label:"shopbite-business-hour.list.columnClosingTime",allowResize:!0},{property:"salesChannel.name",label:"shopbite-business-hour.list.columnSalesChannel",allowResize:!0}]},businessHourCriteria(){const e=new a(this.page,this.limit);return e.setTerm(this.term),e.addSorting(a.sort(this.sortBy,this.sortDirection)),e.addAssociation("salesChannel"),e}},methods:{getList(){return this.isLoading=!0,this.businessHourRepository.search(this.businessHourCriteria).then(e=>{this.businessHours=e,this.total=e.total,this.isLoading=!1})},getDayName(e){const t=["shopbite-business-hour.days.monday","shopbite-business-hour.days.tuesday","shopbite-business-hour.days.wednesday","shopbite-business-hour.days.thursday","shopbite-business-hour.days.friday","shopbite-business-hour.days.saturday","shopbite-business-hour.days.sunday"];return this.$tc(t[e-1])}}});const p=`<sw-page class="shopbite-business-hour-detail"> <template #smart-bar-actions> <sw-button :routerLink="{ name: 'shopbite.business.hour.list' }"> {{ $tc('shopbite-business-hour.detail.buttonCancel') }} </sw-button> <sw-button-process variant="primary" :isLoading="isLoading" :processSuccess="processSuccess" @process-finish="processSuccess = false" @click="onSave" > {{ $tc('shopbite-business-hour.detail.buttonSave') }} </sw-button-process> </template> <template #content> <sw-card v-if="businessHour" :isLoading="isLoading"> <sw-entity-multi-select v-model:entityCollection="salesChannels" entity="sales_channel" :label="$tc('shopbite-business-hour.detail.labelSalesChannel')" required /> <sw-multi-select v-model:value="selectedDays" :options="days" :label="$tc('shopbite-business-hour.detail.labelDayOfWeek')" required /> <sw-datepicker v-model:value="businessHour.openingTime" dateType="time" :label="$tc('shopbite-business-hour.detail.labelOpeningTime')" required /> <sw-datepicker v-model:value="businessHour.closingTime" dateType="time" :label="$tc('shopbite-business-hour.detail.labelClosingTime')" required /> </sw-card> </template> </sw-page>`,{Component:c,Mixin:m}=Shopware;c.register("shopbite-business-hour-detail",{template:p,inject:["repositoryFactory"],mixins:[m.getByName("notification")],data(){return{businessHour:null,salesChannels:null,selectedDays:[],isLoading:!1,processSuccess:!1}},computed:{businessHourRepository(){return this.repositoryFactory.create("shopbite_business_hour")},salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},days(){return[{value:1,label:this.$tc("shopbite-business-hour.days.monday")},{value:2,label:this.$tc("shopbite-business-hour.days.tuesday")},{value:3,label:this.$tc("shopbite-business-hour.days.wednesday")},{value:4,label:this.$tc("shopbite-business-hour.days.thursday")},{value:5,label:this.$tc("shopbite-business-hour.days.friday")},{value:6,label:this.$tc("shopbite-business-hour.days.saturday")},{value:7,label:this.$tc("shopbite-business-hour.days.sunday")}]}},created(){this.createdComponent()},methods:{createdComponent(){this.$route.params.id?(this.businessHourId=this.$route.params.id,this.loadEntity()):(this.businessHour=this.businessHourRepository.create(),this.selectedDays=this.days.map(e=>e.value),this.salesChannelRepository.search(new Shopware.Data.Criteria).then(e=>{this.salesChannels=e}))},loadEntity(){this.isLoading=!0,this.businessHourRepository.get(this.businessHourId).then(e=>{this.businessHour=e,this.selectedDays=[this.businessHour.dayOfWeek],this.salesChannels=new Shopware.Data.EntityCollection("/sales-channel","sales_channel",Shopware.Context.api,new Shopware.Data.Criteria),this.businessHour.salesChannelId&&this.salesChannelRepository.get(this.businessHour.salesChannelId).then(t=>{this.salesChannels.add(t)}),this.isLoading=!1})},onSave(){this.isLoading=!0;const e=[];if(this.salesChannels.forEach(t=>{this.selectedDays.forEach(s=>{const i=this.businessHourRepository.create();Object.assign(i,this.businessHour),i.salesChannelId=t.id,i.dayOfWeek=s,this.businessHourId?i.id=this.businessHourId:delete i.id,e.push(this.businessHourRepository.save(i))})}),e.length===0){this.isLoading=!1;return}Promise.all(e).then(()=>{this.isLoading=!1,this.processSuccess=!0,this.$router.push({name:"shopbite.business.hour.list"})}).catch(t=>{this.isLoading=!1,this.createNotificationError({title:this.$tc("shopbite-business-hour.detail.errorTitle"),message:t.message})})}}});const b={"shopbite-business-hour":{general:{mainMenuItemGeneral:"Business Hours",descriptionText:"Manage business hours for your sales channels."},list:{columnDayOfWeek:"Day of week",columnOpeningTime:"Opening time",columnClosingTime:"Closing time",columnSalesChannel:"Sales Channel",buttonAdd:"Add business hour"},detail:{labelSalesChannel:"Sales Channel",labelDayOfWeek:"Day of week",labelOpeningTime:"Opening time",labelClosingTime:"Closing time",buttonSave:"Save",buttonCancel:"Cancel",errorTitle:"Error"},days:{monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"}}},y={"shopbite-business-hour":{general:{mainMenuItemGeneral:"Öffnungszeiten",descriptionText:"Verwalten Sie die Öffnungszeiten für Ihre Verkaufskanäle."},list:{columnDayOfWeek:"Wochentag",columnOpeningTime:"Öffnungszeit",columnClosingTime:"Schließzeit",columnSalesChannel:"Verkaufskanal",buttonAdd:"Öffnungszeit hinzufügen"},detail:{labelSalesChannel:"Verkaufskanal",labelDayOfWeek:"Wochentag",labelOpeningTime:"Öffnungszeit",labelClosingTime:"Schließzeit",buttonSave:"Speichern",buttonCancel:"Abbrechen",errorTitle:"Fehler"},days:{monday:"Montag",tuesday:"Dienstag",wednesday:"Mittwoch",thursday:"Donnerstag",friday:"Freitag",saturday:"Samstag",sunday:"Sonntag"}}};Shopware.Module.register("shopbite-business-hour",{type:"plugin",name:"Business Hours",title:"shopbite-business-hour.general.mainMenuItemGeneral",description:"shopbite-business-hour.general.descriptionText",color:"#ff3d58",icon:"regular-clock",snippets:{"en-GB":b,"de-DE":y},routes:{list:{component:"shopbite-business-hour-list",path:"list"},detail:{component:"shopbite-business-hour-detail",path:"detail/:id",meta:{parentPath:"shopbite.business.hour.list"}},create:{component:"shopbite-business-hour-detail",path:"create",meta:{parentPath:"shopbite.business.hour.list"}}},navigation:[{label:"shopbite-business-hour.general.mainMenuItemGeneral",color:"#ff3d58",path:"shopbite.business.hour.list",icon:"regular-clock",parent:"shopbite.main.index",position:100}]});const g=`<sw-page class="shopbite-holiday-list"> <template #smart-bar-actions> <sw-button variant="primary" :routerLink="{ name: 'shopbite.holiday.create' }"> {{ $tc('shopbite-holiday.general.buttonCreate') }} </sw-button> </template> <template #content> <sw-entity-listing v-if="holidays" :items="holidays" :repository="holidayRepository" :showSelection="false" :columns="columns" :isLoading="isLoading" > <template #column-start="{ item }"> {{ formatDate(item.start) }} </template> <template #column-end="{ item }"> {{ formatDate(item.end) }} </template> </sw-entity-listing> </template> </sw-page>`,{Component:f,Mixin:S}=Shopware,{Criteria:n}=Shopware.Data;f.register("shopbite-holiday-list",{template:g,inject:["repositoryFactory"],mixins:[S.getByName("listing")],data(){return{holidays:null,isLoading:!0,sortBy:"start",sortDirection:"ASC"}},metaInfo(){return{title:this.$createTitle()}},computed:{holidayRepository(){return this.repositoryFactory.create("shopbite_holiday")},columns(){return[{property:"start",label:"shopbite-holiday.list.columnStart",routerLink:"shopbite.holiday.detail",allowResize:!0,primary:!0},{property:"end",label:"shopbite-holiday.list.columnEnd",allowResize:!0},{property:"salesChannel.name",label:"shopbite-holiday.list.columnSalesChannel",allowResize:!0}]},holidayCriteria(){const e=new n(this.page,this.limit);return e.setTerm(this.term),e.addSorting(n.sort(this.sortBy,this.sortDirection)),e.addAssociation("salesChannel"),e}},methods:{getList(){return this.isLoading=!0,this.holidayRepository.search(this.holidayCriteria).then(e=>{this.holidays=e,this.total=e.total,this.isLoading=!1})},formatDate(e){return e?new Date(e).toLocaleString("de-DE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"}}});const w=`<sw-page class="shopbite-holiday-detail"> <template #smart-bar-actions> <sw-button :routerLink="{ name: 'shopbite.holiday.list' }"> {{ $tc('global.default.cancel') }} </sw-button> <sw-button-process variant="primary" :isLoading="isLoading" :processSuccess="processSuccess" @process-finish="processSuccess = false" @click="onSave" > {{ $tc('global.default.save') }} </sw-button-process> </template> <template #content> <sw-card-view> <sw-card :title="$tc('shopbite-holiday.detail.cardGeneral')" :isLoading="isLoading" positionIdentifier="shopbite-holiday-detail-general"> <sw-datepicker v-if="holiday" v-model:value="holiday.start" dateType="datetime" :label="$tc('shopbite-holiday.detail.labelStart')" required /> <sw-datepicker v-if="holiday" v-model:value="holiday.end" dateType="datetime" :label="$tc('shopbite-holiday.detail.labelEnd')" required /> <sw-entity-multi-select v-if="holiday" v-model:entityCollection="salesChannels" entity="sales_channel" :label="$tc('shopbite-holiday.detail.labelSalesChannel')" required /> </sw-card> </sw-card-view> </template> </sw-page>`,{Component:C,Mixin:v}=Shopware;C.register("shopbite-holiday-detail",{template:w,inject:["repositoryFactory"],mixins:[v.getByName("notification")],data(){return{holiday:null,salesChannels:null,isLoading:!1,processSuccess:!1}},computed:{holidayRepository(){return this.repositoryFactory.create("shopbite_holiday")},salesChannelRepository(){return this.repositoryFactory.create("sales_channel")}},created(){this.createdComponent()},methods:{createdComponent(){this.$route.params.id?(this.holidayId=this.$route.params.id,this.loadEntity()):(this.holiday=this.holidayRepository.create(),this.salesChannelRepository.search(new Shopware.Data.Criteria).then(e=>{this.salesChannels=e}))},loadEntity(){this.isLoading=!0,this.holidayRepository.get(this.holidayId).then(e=>{this.holiday=e,this.salesChannels=new Shopware.Data.EntityCollection("/sales-channel","sales_channel",Shopware.Context.api,new Shopware.Data.Criteria),this.holiday.salesChannelId&&this.salesChannelRepository.get(this.holiday.salesChannelId).then(t=>{this.salesChannels.add(t)}),this.isLoading=!1})},onSave(){this.isLoading=!0;const e=[];if(this.salesChannels.forEach(t=>{const s=this.holidayRepository.create();Object.assign(s,this.holiday),s.salesChannelId=t.id,this.holidayId?s.id=this.holidayId:delete s.id,e.push(this.holidayRepository.save(s))}),e.length===0){this.isLoading=!1;return}Promise.all(e).then(()=>{this.isLoading=!1,this.processSuccess=!0,this.$router.push({name:"shopbite.holiday.list"})}).catch(t=>{this.isLoading=!1,this.createNotificationError({title:this.$tc("shopbite-holiday.detail.errorTitle"),message:t.message})})}}});const $={"shopbite-holiday":{general:{mainMenuItemGeneral:"Holidays",descriptionText:"Manage holidays and vacations.",placeholderSearchBar:"Search holidays...",buttonCreate:"Add Holiday"},list:{title:"Holidays",columnStart:"Start",columnEnd:"End",columnSalesChannel:"Sales Channel"},detail:{title:"Holiday",titleSaveSuccess:"Holiday saved",messageSaveSuccess:"The holiday has been saved successfully.",cardGeneral:"General Information",labelStart:"Start Date & Time",labelEnd:"End Date & Time",labelSalesChannel:"Sales Channel"}}},T={"shopbite-holiday":{general:{mainMenuItemGeneral:"Feiertage",descriptionText:"Feiertage und Urlaube verwalten.",placeholderSearchBar:"Feiertage suchen...",buttonCreate:"Feiertag hinzufügen"},list:{title:"Feiertage",columnStart:"Start",columnEnd:"Ende",columnSalesChannel:"Verkaufskanal"},detail:{title:"Feiertag",titleSaveSuccess:"Feiertag gespeichert",messageSaveSuccess:"Der Feiertag wurde erfolgreich gespeichert.",cardGeneral:"Allgemeine Informationen",labelStart:"Startdatum & Uhrzeit",labelEnd:"Enddatum & Uhrzeit",labelSalesChannel:"Verkaufskanal"}}};Shopware.Module.register("shopbite-holiday",{type:"plugin",name:"Holidays",title:"shopbite-holiday.general.mainMenuItemGeneral",description:"shopbite-holiday.general.descriptionText",color:"#ff3d58",icon:"regular-calendar",snippets:{"en-GB":$,"de-DE":T},routes:{list:{component:"shopbite-holiday-list",path:"list"},detail:{component:"shopbite-holiday-detail",path:"detail/:id",meta:{parentPath:"shopbite.holiday.list"}},create:{component:"shopbite-holiday-detail",path:"create",meta:{parentPath:"shopbite.holiday.list"}}},navigation:[{label:"shopbite-holiday.general.mainMenuItemGeneral",color:"#ff3d58",path:"shopbite.holiday.list",icon:"regular-calendar",parent:"shopbite.main.index",position:110}]});
//# sourceMappingURL=shop-bite-plugin-DcVLzFl4.js.map
